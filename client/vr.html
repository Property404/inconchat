<html>
  <head>
    <script src="pixi.dev.js" type="text/javascript"></script>
    <script src="http://js.leapmotion.com/leap-0.4.2.js"></script>

    <style type="text/css">
      #game {
        margin-left: auto;
        margin-right: auto;

        width: 800px;
        height: 600px;
      }
    </style>

  </head>
  <body>
    <div id="game"></div>
  </body>

  <script type="text/javascript">
	var allow_dis=false;
	var l=[0,0,0];
	var n=['+','-','<','>','[',']','.',','];
	var x=0;
	var y=0;
	var z=0;
	var lx=0;
	var ly=0;
	var lz=0;
	var r=0;
	var s = 100;
    // Set up the Leap Motion controller loop
    var options = {frameEventName: "animationFrame"};
    var controller = Leap.loop(options, function(frame) {

      // I want elements of the game to move at a consistent speed.
      // If I simply animated stuff inside of the draw loop,
      // the game speed would change depending on the frame rate.
      // I use time delta between renders to determine how far
      // elements in the scene should move in each frame.
      var now = window.performance.now();
      timer = now;

      
      if (allow_dis==true && frame.pointables.length > 0) {
		allow_dis=false;
        // Get the normalized finger 
        var pos = frame.pointables[0].stabilizedTipPosition;
        var normPos = frame.interactionBox.normalizePoint(pos, true);

        // Move the rocket to the normalized finger position
        x = Math.round(1000* normPos[0])-500;
        y = Math.round(1000* normPos[0])-500;
		z = Math.round(1000* normPos[0])-500;
		
		if(Math.abs(y-ly)>=s){
			r+=1;
			document.write(n[r%8]);
		}
		
		lx = x;
		ly = y;
		lz = z;
		
		//document.write("\n<br>");
      }else{
		allow_dis=true;
	  }

      
    });

  </script>
</html>